<?xml version="1.0" encoding="UTF-8"?>

<magic>
  <Styles>
    <Style name="default">
      <Nodes/>
      <Classes>
        <plot-view border="2" background-color="black" border-color="silver" display="contents"/>
        <nomargin margin="0" padding="0" border="0"/>
        <group margin="5" padding="5" border="2" flex-direction="column"/>
        <transparent background-color="transparentblack"/>
        <SDS_Slider lookAndFeel="LookAndFeel_V4">
          <media/>
        </SDS_Slider>
        <SettingsHeader margin="0" padding="0" max-height="40" flex-grow="1.0" min-height="">
          <media/>
        </SettingsHeader>
        <SettingsItem flex-grow="1.0" max-height="70">
          <media/>
        </SettingsItem>
        <LDMparams max-height="70">
          <media/>
        </LDMparams>
      </Classes>
      <Types>
        <Slider border="0" slider-textbox="textbox-below" lookAndFeel="Skeuomorphic"
                caption=""/>
        <ToggleButton border="0" max-height="50" caption-size="0" text="Active"/>
        <TextButton border="0" max-height="50" caption-size="0"/>
        <ComboBox border="0" max-height="50" caption-size="0"/>
        <Plot border="0" margin="0" padding="0" background-color="00000000"
              radius="0"/>
        <XYDragComponent border="0" margin="0" padding="0" background-color="00000000"
                         radius="0"/>
      </Types>
      <Palettes>
        <default/>
      </Palettes>
    </Style>
  </Styles>
  <View id="root" resizable="1" resize-corner="1" flex-direction="column"
        display="" background-color="" border-color="" lookAndFeel="Skeuomorphic">
    <View background-color="" lookAndFeel="">
      <View flex-direction="column" flex-align-content="stretch" margin=""
            padding="" min-width="0.0" flex-align-self="stretch" flex-wrap="nowrap"
            lookAndFeel="">
        <Label text="Stable Diffusion Synth" font-size="40" flex-grow="1" min-height="30"
               height="30" flex-align-self="stretch" margin="0" padding="0"/>
        <Label text="A Synthesizer based on stable diffusion" height="20" min-height="20.0"
               margin="0" padding="0"/>
      </View>
      <View flex-shrink="1" flex-grow="1">
        <Label text="server connected" label-text="FFFF0000" justification="centred-right"
               id="server_status"/>
        <Label text="model running" label-text="FFFF0000" justification="centred-right"
               max-width="150" id="model_status"/>
        <TextButton onClick="refresh" caption="" text="refresh" width="" max-width="150"/>
      </View>
    </View>
    <View class="parameters nomargin" flex-grow="5" display="tabbed" background-color="FFA7A7A7"
          lookAndFeel="">
      <View caption-placement="top-left" caption="" title="" tab-caption="Synth"
            id="Synth" background-color="FFAAAAAA" lookAndFeel="">
        <View lookAndFeel="" flex-direction="column" min-width="50">
          <Label text="AudioLDM Params" font-size="20" justification="centred"
                 pos-x="" pos-y="" pos-width="" pos-height="" max-height="40"/>
          <View flex-direction="column">
            <Label caption="prompt" class="LDMparams" text="" editable="1" value="prompt"/>
            <Label caption="negative_prompt" class="LDMparams" editable="1" value="negative_prompt"/>
            <Slider class="LDMparams" caption="audio_length_in_s" parameter="AUDIO_LENGTH"/>
            <Slider class="LDMparams" caption="num_inference_steps" parameter="NUM_INFERENCE_STEPS"/>
            <Slider class="LDMparams" caption="guidance_scale" parameter="GUIDANCE_SCALE"/>
            <View display="contents" margin="0">
              <TextButton onClick="generate" text="generate sample" lookAndFeel="LookAndFeel_V4"
                          max-height="90" max-width="100" flex-grow="1" flex-shrink="1"
                          flex-align-self="stretch"/>
            </View>
            <Slider slider-type="rotary" slider-textbox="textbox-right" caption="tune"
                    flex-grow="1.5" margin="0" padding="0" lookAndFeel="Skeuomorphic"
                    parameter="PITCH"/>
          </View>
        </View>
        <View flex-direction="column" flex-grow="3" lookAndFeel="">
          <View flex-direction="row" lookAndFeel="">
            <View id="waveform" flex-direction="column">
              <Waveform/>
            </View>
            <View>
              <Label pos-x="-2.85714%" pos-y="-1.77305%" pos-width="100%" pos-height="100%"
                     text="Spectogram" font-size="50"/>
            </View>
          </View>
          <View padding="0" margin="0" lookAndFeel="">
            <View id="ASDR" flex-direction="column" background-color="FF555555"
                  margin="0" padding="0" lookAndFeel="Skeuomorphic">
              <View margin="0" padding="0" lookAndFeel="Skeuomorphic">
                <Slider slider-type="rotary" caption="Sustain" slider-textbox="no-textbox"
                        class="" lookAndFeel=""/>
                <Slider slider-type="rotary" caption-placement="centred-top" slider-textbox="no-textbox"
                        class="" caption="Attack" lookAndFeel=""/>
              </View>
              <View margin="0" padding="0" lookAndFeel="Skeuomorphic">
                <Slider slider-type="rotary" caption="Release" slider-textbox="no-textbox"
                        class="" lookAndFeel=""/>
                <Slider slider-type="rotary" caption="Decay" slider-textbox="no-textbox"
                        class="" lookAndFeel=""/>
              </View>
            </View>
          </View>
        </View>
        <View flex-direction="column">
          <View max-height="200" caption="">
            <Meter caption="" source="output" bar-fill-color="FF3E54CD"/>
            <Slider caption="gain" lookAndFeel="Skeuomorphic"/>
          </View>
          <View/>
        </View>
      </View>
      <View id="Settings" caption="" tab-caption="Settings" flex-direction="column">
        <View flex-grow="5.0">
          <View flex-direction="column">
            <Label text="Server Settings" justification="centred" class="SettingsHeader"
                   flex-grow="0.3"/>
            <View>
              <View flex-direction="row" class="SettingsItem">
                <Label text="port"/>
                <Label text="" editable="1" parameter="PORT"/>
              </View>
            </View>
            <ToggleButton class="SettingsItem" text="auto-start server on first instance"
                          caption-placement="centred-top" property="auto_start"/>
            <TextButton onClick="startServer" text="(re)-start server" max-width="100"
                        max-height="100" flex-align-self="stretch" pos-width="" pos-height=""/>
          </View>
          <View flex-direction="column">
            <Label text="Model Settings" justification="centred" class="SettingsHeader"
                   min-width="0" min-height="0" flex-grow="0.5"/>
            <View flex-direction="column">
              <View flex-direction="row" class="SettingsItem">
                <Label text="pretrained-model"/>
                <ComboBox id="model_list" parameter="MODELS"/>
              </View>
              <View flex-direction="row" class="SettingsItem">
                <Label text="device "/>
                <ComboBox id="device_list" parameter="DEVICES"/>
              </View>
            </View>
            <ToggleButton class="SettingsItem" text="auto-init model on first instance"
                          caption-placement="centred-top" property="auto_setup"/>
            <TextButton onClick="initModel" text="(re)-init model" max-width="100" max-height="100"
                        flex-align-self="stretch" pos-width="" pos-height=""/>
          </View>
        </View>
      </View>
    </View>
  </View>
</magic>
 